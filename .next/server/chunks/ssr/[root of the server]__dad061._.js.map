{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Mitos/admin/src/app/admin/news/page.jsx"],"sourcesContent":["'use client';\r\nimport { useState } from 'react';\r\nimport { useEditor, EditorContent } from '@tiptap/react';\r\nimport StarterKit from '@tiptap/starter-kit';\r\nimport Image from '@tiptap/extension-image';\r\nimport Bold from '@tiptap/extension-bold';\r\nimport Italic from '@tiptap/extension-italic';\r\nimport Underline from '@tiptap/extension-underline';\r\nimport Link from '@tiptap/extension-link';\r\nimport BulletList from '@tiptap/extension-bullet-list';\r\nimport OrderedList from '@tiptap/extension-ordered-list';\r\nimport ListItem from '@tiptap/extension-list-item';\r\nimport Highlight from '@tiptap/extension-highlight';\r\nimport TextAlign from '@tiptap/extension-text-align';\r\nimport TextStyle from '@tiptap/extension-text-style';\r\nimport Color from '@tiptap/extension-color';\r\nimport Code from '@tiptap/extension-code';\r\nimport CodeBlock from '@tiptap/extension-code-block';\r\nimport HorizontalRule from '@tiptap/extension-horizontal-rule';\r\nimport { MathJaxContext } from 'better-react-mathjax';\r\nimport { useRouter } from 'next/router';\r\nimport {\r\n  BoldIcon,\r\n  ItalicIcon,\r\n  UnderlineIcon,\r\n  ListIcon,\r\n  ListOrderedIcon,\r\n  CodeIcon,\r\n  QuoteIcon,\r\n  AlignLeftIcon,\r\n  AlignCenterIcon,\r\n  AlignRightIcon,\r\n  MinusIcon,\r\n  ImageIcon,\r\n} from 'lucide-react';\r\n\r\nexport default function CreateNewsPage() {\r\n  const [form, setForm] = useState({ title: '', content: '', image: null });\r\n  const [preview, setPreview] = useState(null);\r\n  const router = useRouter();\r\n\r\n  const editor = useEditor({\r\n    extensions: [\r\n      StarterKit,\r\n      Image,\r\n      Bold,\r\n      Italic,\r\n      Underline,\r\n      Link,\r\n      BulletList,\r\n      OrderedList,\r\n      ListItem,\r\n      Highlight,\r\n      TextAlign.configure({ types: ['heading', 'paragraph'] }),\r\n      TextStyle,\r\n      Color,\r\n      Code,\r\n      CodeBlock,\r\n      HorizontalRule,\r\n    ],\r\n    content: '',\r\n    onUpdate: ({ editor }) => {\r\n      setForm((prev) => ({ ...prev, content: editor.getHTML() }));\r\n    },\r\n  });\r\n\r\n  const handleImageUpload = async (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n\r\n    const formData = new FormData();\r\n    formData.append('image', file);\r\n\r\n    const res = await fetch('/api/upload', {\r\n      method: 'POST',\r\n      body: formData,\r\n    });\r\n\r\n    const data = await res.json();\r\n    if (data.url) {\r\n      editor.chain().focus().setImage({ src: data.url }).run();\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append('title', form.title);\r\n    formData.append('content', form.content);\r\n    if (form.image) formData.append('image', form.image);\r\n\r\n    const res = await fetch('/api/news', {\r\n      method: 'POST',\r\n      body: formData,\r\n    });\r\n\r\n    const data = await res.json();\r\n    alert(`News Created: ${data.title}`);\r\n    router.push('/news'); // Redirect to news listing after creation\r\n  };\r\n\r\n  return (\r\n    <MathJaxContext>\r\n      <div className=\"min-h-screen bg-gray-50 py-10 px-4\">\r\n        <div className=\"max-w-4xl mx-auto bg-white p-8 rounded-2xl shadow-lg\">\r\n          <h1 className=\"text-3xl font-bold mb-6 text-center text-blue-700\">Create News</h1>\r\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Enter news title\"\r\n              className=\"w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              onChange={(e) => setForm({ ...form, title: e.target.value })}\r\n            />\r\n\r\n            {/* Rich Editor Toolbar */}\r\n            {editor && (\r\n              <div className=\"flex flex-wrap gap-2 border p-2 rounded-lg bg-gray-50\">\r\n                <button type=\"button\" onClick={() => editor.chain().focus().toggleBold().run()}><BoldIcon size={18} /></button>\r\n                <button type=\"button\" onClick={() => editor.chain().focus().toggleItalic().run()}><ItalicIcon size={18} /></button>\r\n                <button type=\"button\" onClick={() => editor.chain().focus().toggleUnderline().run()}><UnderlineIcon size={18} /></button>\r\n                <button type=\"button\" onClick={() => editor.chain().focus().toggleBulletList().run()}><ListIcon size={18} /></button>\r\n                <button type=\"button\" onClick={() => editor.chain().focus().toggleOrderedList().run()}><ListOrderedIcon size={18} /></button>\r\n                <button type=\"button\" onClick={() => editor.chain().focus().toggleCode().run()}><CodeIcon size={18} /></button>\r\n                <button type=\"button\" onClick={() => editor.chain().focus().setHorizontalRule().run()}><MinusIcon size={18} /></button>\r\n                <button type=\"button\" onClick={() => editor.chain().focus().setTextAlign('left').run()}><AlignLeftIcon size={18} /></button>\r\n                <button type=\"button\" onClick={() => editor.chain().focus().setTextAlign('center').run()}><AlignCenterIcon size={18} /></button>\r\n                <button type=\"button\" onClick={() => editor.chain().focus().setTextAlign('right').run()}><AlignRightIcon size={18} /></button>\r\n                <label htmlFor=\"file-upload\" className=\"cursor-pointer\">\r\n                  <ImageIcon size={18} />\r\n                  <input\r\n                    id=\"file-upload\"\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    onChange={handleImageUpload}\r\n                    hidden\r\n                  />\r\n                </label>\r\n              </div>\r\n            )}\r\n\r\n            {/* Rich Text Editor Content */}\r\n            <div className=\"border rounded-lg min-h-[200px] p-4 bg-white shadow-inner\">\r\n              <EditorContent editor={editor} />\r\n            </div>\r\n\r\n            {/* Submit Button */}\r\n            <button\r\n              type=\"submit\"\r\n              className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition\"\r\n            >\r\n              Publish News\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </MathJaxContext>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 423, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}