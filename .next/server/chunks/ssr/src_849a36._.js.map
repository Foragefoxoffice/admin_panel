{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Mitos/admin/src/utils/config.js"],"sourcesContent":["export const API_BASE_URL = \"https://mitoslearning.in/api\";\r\n"],"names":[],"mappings":";;;AAAO,MAAM,eAAe"}},
    {"offset": {"line": 11, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 17, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Mitos/admin/src/app/login/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { GoogleOAuthProvider, GoogleLogin } from \"@react-oauth/google\";\r\nimport { API_BASE_URL } from \"@/utils/config\";\r\n\r\nexport default function LoginScreen() {\r\n  const router = useRouter();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\"); // Clear previous errors\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/auth/login`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ email, password }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        // Check if the user is an admin\r\n        if (data.role !== \"admin\") {\r\n          setError(\"Access restricted to admin users only.\");\r\n          return;\r\n        }\r\n\r\n        // Save token and role to local storage\r\n        localStorage.setItem(\"token\", data.token);\r\n        localStorage.setItem(\"role\", data.role);\r\n        localStorage.setItem(\"userId\", data.user.id);\r\n        // Navigate to admin dashboard\r\n        router.push(\"/admin/types\");\r\n      } else {\r\n        // Set error message from server response\r\n        setError(data.message || \"Login failed. Please try again.\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Login Error:\", err); // Debugging log\r\n      setError(\"Something went wrong. Please try again.\");\r\n    }\r\n  };\r\n\r\n  // Handle Google Sign-In success\r\n  const handleGoogleSuccess = async (credentialResponse) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/auth/google`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ credential: credentialResponse.credential }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        // Check if the user is an admin\r\n        if (data.role !== \"user\") {\r\n          setError(\"Access restricted to admin users only.\");\r\n          return;\r\n        }\r\n\r\n        // Save token and role to local storage\r\n        localStorage.setItem(\"token\", data.token);\r\n        localStorage.setItem(\"role\", data.role);\r\n        localStorage.setItem(\"userId\", data.user.id);\r\n        // Navigate to admin dashboard\r\n        router.push(\"/admin/types\");\r\n      } else {\r\n        setError(data.message || \"Google authentication failed.\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Google Login Error:\", err); // Debugging log\r\n      setError(\"Something went wrong. Please try again.\");\r\n    }\r\n  };\r\n\r\n  // Handle Google Sign-In failure\r\n  const handleGoogleError = () => {\r\n    setError(\"Google Sign-In failed. Please try again.\");\r\n  };\r\n\r\n  return (\r\n    <GoogleOAuthProvider clientId=\"501560257854-oor7kgad2o2dk9l2qhv5ekd5ilmt9h0r.apps.googleusercontent.com\">\r\n      <div className=\"container p-10\">\r\n        <div className=\"flex w-full\">\r\n          <div className=\"w-[40%] hidden md:flex\">\r\n            <div className=\"login\">\r\n              <div className=\"login_img\">\r\n                <img src=\"/images/login/login_img.png\" alt=\"\" />\r\n              </div>\r\n              <div className=\"flying_logo\">\r\n                <img src=\"/images/login/pop1.png\" alt=\"\" />\r\n                <img src=\"/images/login/pop2.png\" alt=\"\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"md:w-[60%] w-[100%]\">\r\n            <div className=\"login_content\">\r\n              <div className=\"logo\">\r\n                <img src=\"/images/logo/logo.png\" alt=\"\" />\r\n              </div>\r\n\r\n              <h1 className=\"font-bold text-center pt-6\">Admin Login!</h1>\r\n              <form onSubmit={handleSubmit} className=\"mt-6\">\r\n                {/* Email Input */}\r\n                <div className=\"mb-4\">\r\n                  <label htmlFor=\"email\">\r\n                    Email address<span>*</span>\r\n                  </label>\r\n                  <input\r\n                    id=\"email\"\r\n                    type=\"email\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    placeholder=\"Enter email address\"\r\n                    required\r\n                  />\r\n                </div>\r\n                {/* Password Input */}\r\n                <div className=\"mb-4\">\r\n                  <label htmlFor=\"password\">\r\n                    Password<span>*</span>\r\n                  </label>\r\n                  <input\r\n                    id=\"password\"\r\n                    type=\"password\"\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    placeholder=\"Enter password\"\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                {/* Error Message */}\r\n                {error && <p className=\"text-red-500 text-sm mb-4\">{error}</p>}\r\n                {/* Submit Button */}\r\n                <div className=\"forgot\">\r\n                  <a href=\"/auth/register\">Forgot your password?</a>\r\n                </div>\r\n                <button type=\"submit\" className=\"login_btn\">\r\n                  Login\r\n                </button>\r\n              </form>\r\n\r\n            \r\n            </div>\r\n            <p className=\"mt-2 text-center\" >\r\n          You don't have an account?{\" \"}\r\n          <a href=\"/register\" className=\"text-[#35095E]\">\r\n            Signin here\r\n          </a>\r\n        </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </GoogleOAuthProvider>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 369, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}