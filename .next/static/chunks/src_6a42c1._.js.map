{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Mitos/admin/src/components/Tiptap.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEditor, EditorContent, BubbleMenu } from \"@tiptap/react\";\r\nimport StarterKit from \"@tiptap/starter-kit\";\r\nimport Bold from \"@tiptap/extension-bold\";\r\nimport Italic from \"@tiptap/extension-italic\";\r\nimport Underline from \"@tiptap/extension-underline\";\r\nimport Link from \"@tiptap/extension-link\";\r\nimport BulletList from \"@tiptap/extension-bullet-list\";\r\nimport OrderedList from \"@tiptap/extension-ordered-list\";\r\nimport ListItem from \"@tiptap/extension-list-item\";\r\nimport Subscript from \"@tiptap/extension-subscript\";\r\nimport Superscript from \"@tiptap/extension-superscript\";\r\nimport Highlight from \"@tiptap/extension-highlight\";\r\nimport TextAlign from \"@tiptap/extension-text-align\";\r\nimport TextStyle from \"@tiptap/extension-text-style\";\r\nimport Color from \"@tiptap/extension-color\";\r\nimport Code from \"@tiptap/extension-code\";\r\nimport CodeBlock from \"@tiptap/extension-code-block\";\r\nimport HorizontalRule from \"@tiptap/extension-horizontal-rule\";\r\nimport { MathJaxContext, MathJax } from \"better-react-mathjax\";\r\nimport { useEffect, useState, useCallback } from \"react\";\r\n\r\nexport default function RichTextEditor({ value, onChange }) {\r\n  const [latexFormulas, setLatexFormulas] = useState([]);\r\n  const [richTextContent, setRichTextContent] = useState(\"\");\r\n  const [linkUrl, setLinkUrl] = useState(\"\");\r\n  const [showLinkInput, setShowLinkInput] = useState(false);\r\n  const [textColor, setTextColor] = useState(\"#000000\");\r\n  const [highlightColor, setHighlightColor] = useState(\"#ffff00\");\r\n\r\n  const extractContentForPreview = useCallback((html) => {\r\n    if (!html) {\r\n      setLatexFormulas([]);\r\n      setRichTextContent(\"\");\r\n      return;\r\n    }\r\n\r\n    const decoded = html\r\n      .replace(/&lt;/g, \"<\")\r\n      .replace(/&gt;/g, \">\")\r\n      .replace(/&amp;/g, \"&\");\r\n\r\n    // Extract LaTeX formulas\r\n    const latexRegex = /\\\\\\((.+?)\\\\\\)|\\\\\\[(.+?)\\\\\\]|\\$\\$(.+?)\\$\\$/gs;\r\n    const latexMatches = [];\r\n    let match;\r\n    while ((match = latexRegex.exec(decoded)) !== null) {\r\n      const formula = match[1] || match[2] || match[3];\r\n      if (formula) {\r\n        latexMatches.push(formula.trim());\r\n      }\r\n    }\r\n\r\n    // Extract rich text content (with basic formatting)\r\n    const tempDiv = document.createElement(\"div\");\r\n    tempDiv.innerHTML = decoded;\r\n    \r\n    // Remove LaTeX markers from the displayed text\r\n    const textContent = tempDiv.textContent\r\n      .replace(/\\\\\\((.+?)\\\\\\)/gs, \"\")\r\n      .replace(/\\\\\\[(.+?)\\\\\\]/gs, \"\")\r\n      .replace(/\\$\\$(.+?)\\$\\$/gs, \"\");\r\n\r\n    setLatexFormulas(latexMatches);\r\n    setRichTextContent(textContent);\r\n  }, []);\r\n\r\n  const editor = useEditor({\r\n    extensions: [\r\n      StarterKit.configure({\r\n        codeBlock: false,\r\n      }),\r\n      BulletList,\r\n      OrderedList,\r\n      ListItem,\r\n      Bold,\r\n      Italic,\r\n      Underline,\r\n      Link.configure({\r\n        openOnClick: false,\r\n        HTMLAttributes: {\r\n          class: \"text-blue-600 underline\",\r\n        },\r\n      }),\r\n      Subscript,\r\n      Superscript,\r\n      Highlight.configure({\r\n        multicolor: true,\r\n      }),\r\n      TextAlign.configure({\r\n        types: [\"heading\", \"paragraph\"],\r\n      }),\r\n      TextStyle,\r\n      Color,\r\n      Code,\r\n      CodeBlock.configure({\r\n        languageClassPrefix: \"language-\",\r\n      }),\r\n      HorizontalRule,\r\n    ],\r\n    content: value || \"<p></p>\",\r\n    onUpdate: ({ editor }) => {\r\n      const html = editor.getHTML();\r\n      onChange(html);\r\n      extractContentForPreview(html);\r\n    },\r\n    editorProps: {\r\n      attributes: {\r\n        class: \"prose prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto focus:outline-none\",\r\n      },\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (editor && value && value !== editor.getHTML()) {\r\n      editor.commands.setContent(value, false);\r\n      extractContentForPreview(value);\r\n    }\r\n  }, [value, editor, extractContentForPreview]);\r\n\r\n  const addLink = useCallback(() => {\r\n    if (linkUrl) {\r\n      editor.chain().focus().setLink({ href: linkUrl }).run();\r\n    }\r\n    setShowLinkInput(false);\r\n    setLinkUrl(\"\");\r\n  }, [editor, linkUrl]);\r\n\r\n  const removeLink = useCallback(() => {\r\n    editor.chain().focus().unsetLink().run();\r\n    setShowLinkInput(false);\r\n  }, [editor]);\r\n\r\n  const setTextColorCommand = useCallback(() => {\r\n    editor.chain().focus().setColor(textColor).run();\r\n  }, [editor, textColor]);\r\n\r\n  const setHighlightColorCommand = useCallback(() => {\r\n    editor.chain().focus().setHighlight({ color: highlightColor }).run();\r\n  }, [editor, highlightColor]);\r\n\r\n  if (!editor) return <div className=\"border p-4 rounded-lg mt-5 bg-white min-h-[150px]\">Loading editor...</div>;\r\n\r\n  return (\r\n <MathJaxContext\r\n  config={{\r\n    loader: { load: [\"input/tex\", \"output/chtml\", \"[tex]/ams\"] },\r\n    tex: {\r\n      packages: { '[+]': ['ams'] },\r\n      inlineMath: [\r\n        [\"\\\\(\", \"\\\\)\"],\r\n        [\"$\", \"$\"],\r\n      ],\r\n      displayMath: [\r\n        [\"\\\\[\", \"\\\\]\"],\r\n        [\"$$\", \"$$\"],\r\n      ],\r\n      processEscapes: true,\r\n      processEnvironments: true,\r\n      // This helps with alignment characters\r\n      tags: 'ams',\r\n      tagSide: 'right',\r\n      useLabelIds: true\r\n    },\r\n    options: {\r\n      ignoreHtmlClass: 'tex2jax_ignore',\r\n      processHtmlClass: 'tex2jax_process'\r\n    }\r\n  }}\r\n>\r\n      <div className=\"border p-4 rounded-lg mt-5 bg-white\">\r\n        {/* Main Toolbar */}\r\n        <div className=\"mb-2 flex flex-wrap gap-1\">\r\n          {/* Text Formatting */}\r\n          <ToolbarButton editor={editor} command=\"toggleBold\" type=\"bold\" label=\"B\" tooltip=\"Bold (Ctrl+B)\" />\r\n          <ToolbarButton editor={editor} command=\"toggleItalic\" type=\"italic\" label=\"I\" tooltip=\"Italic (Ctrl+I)\" />\r\n          <ToolbarButton editor={editor} command=\"toggleUnderline\" type=\"underline\" label=\"U\" tooltip=\"Underline (Ctrl+U)\" />\r\n          <ToolbarButton editor={editor} command=\"toggleCode\" type=\"code\" label=\"</>\" tooltip=\"Code\" />\r\n\r\n          {/* Lists */}\r\n          <ToolbarButton editor={editor} command=\"toggleBulletList\" type=\"bulletList\" label=\"â€¢ List\" tooltip=\"Bullet List\" />\r\n          <ToolbarButton editor={editor} command=\"toggleOrderedList\" type=\"orderedList\" label=\"1. List\" tooltip=\"Numbered List\" />\r\n          \r\n          {/* Scripts */}\r\n          <ToolbarButton editor={editor} command=\"toggleSubscript\" type=\"subscript\" label=\"Xâ‚‚\" tooltip=\"Subscript\" />\r\n          <ToolbarButton editor={editor} command=\"toggleSuperscript\" type=\"superscript\" label=\"XÂ²\" tooltip=\"Superscript\" />\r\n          \r\n          {/* Link */}\r\n          <div className=\"relative\">\r\n            <ToolbarButton \r\n              editor={editor} \r\n              command=\"\" \r\n              type=\"link\" \r\n              label=\"ðŸ”—\" \r\n              tooltip=\"Link\"\r\n              onClick={() => setShowLinkInput(!showLinkInput)}\r\n            />\r\n            {showLinkInput && (\r\n              <div className=\"absolute z-10 top-full left-0 mt-1 p-2 bg-white border rounded-lg shadow-lg w-64\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={linkUrl}\r\n                  onChange={(e) => setLinkUrl(e.target.value)}\r\n                  placeholder=\"Enter URL\"\r\n                  className=\"border p-2 mb-2 w-full rounded text-sm\"\r\n                />\r\n                <div className=\"flex space-x-2\">\r\n                  <button\r\n                    onClick={addLink}\r\n                    className=\"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm\"\r\n                  >\r\n                    Apply\r\n                  </button>\r\n                  <button\r\n                    onClick={removeLink}\r\n                    className=\"px-3 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 text-sm\"\r\n                  >\r\n                    Remove\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          {/* Text Alignment */}\r\n          <div className=\"border-l border-gray-300 h-6 mx-1\"></div>\r\n          <ToolbarButton editor={editor} command=\"setTextAlign\" type={{ textAlign: \"left\" }} label=\"â‰¡\" tooltip=\"Align Left\" />\r\n          <ToolbarButton editor={editor} command=\"setTextAlign\" type={{ textAlign: \"center\" }} label=\"â‰¡\" tooltip=\"Align Center\" />\r\n          <ToolbarButton editor={editor} command=\"setTextAlign\" type={{ textAlign: \"right\" }} label=\"â‰¡\" tooltip=\"Align Right\" />\r\n          \r\n          {/* Colors */}\r\n          <div className=\"border-l border-gray-300 h-6 mx-1\"></div>\r\n          <div className=\"flex items-center gap-2 bg-gray-100 rounded px-2\">\r\n            <div className=\"flex items-center gap-1\">\r\n              <span className=\"text-xs text-gray-500\">Text:</span>\r\n              <input\r\n                style={{margin:0, height:25,padding:0,border:'none',width:25}}\r\n                type=\"color\"\r\n                value={textColor}\r\n                onChange={(e) => setTextColor(e.target.value)}\r\n                onBlur={setTextColorCommand}\r\n                className=\"h-6 w-6 border border-gray-300 rounded cursor-pointer\"\r\n              />\r\n            </div>\r\n            <div className=\"flex items-center gap-1\">\r\n              <span className=\"text-xs text-gray-500\">Highlight:</span>\r\n              <input\r\n                style={{margin:0, height:25,padding:0,border:'none',width:25}}\r\n                type=\"color\"\r\n                value={highlightColor}\r\n                onChange={(e) => setHighlightColor(e.target.value)}\r\n                onBlur={setHighlightColorCommand}\r\n                className=\"h-6 w-6 border border-gray-300 rounded cursor-pointer\"\r\n              />\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Advanced */}\r\n          <div className=\"border-l border-gray-300 h-6 mx-1\"></div>\r\n          <ToolbarButton editor={editor} command=\"toggleCodeBlock\" type=\"codeBlock\" label=\"</> Block\" tooltip=\"Code Block\" />\r\n          <ToolbarButton editor={editor} command=\"setHorizontalRule\" type=\"\" label=\"---\" tooltip=\"Horizontal Line\" />\r\n        </div>\r\n\r\n        {/* Bubble Menu for quick formatting */}\r\n        {editor && (\r\n          <BubbleMenu editor={editor} tippyOptions={{ duration: 100 }}>\r\n            <div className=\"flex bg-white border rounded-lg shadow-lg p-1 space-x-1\">\r\n              <ToolbarButton editor={editor} command=\"toggleBold\" type=\"bold\" label=\"B\" />\r\n              <ToolbarButton editor={editor} command=\"toggleItalic\" type=\"italic\" label=\"I\" />\r\n              <ToolbarButton editor={editor} command=\"toggleUnderline\" type=\"underline\" label=\"U\" />\r\n              <button\r\n                onClick={() => {\r\n                  const url = prompt(\"Enter URL:\");\r\n                  if (url) editor.chain().focus().setLink({ href: url }).run();\r\n                }}\r\n                className={`px-3 py-1 rounded ${editor.isActive(\"link\") ? \"bg-blue-100 text-blue-600\" : \"bg-gray-100 hover:bg-gray-200\"}`}\r\n              >\r\n                ðŸ”—\r\n              </button>\r\n            </div>\r\n          </BubbleMenu>\r\n        )}\r\n\r\n        <EditorContent \r\n          editor={editor} \r\n          className=\"min-h-[150px] p-4 border rounded-lg bg-white focus:outline-none\" \r\n        />\r\n        \r\n        {/* Combined Preview Section */}\r\n        {/* Combined Preview Section */}\r\n{/* Combined Preview Section */}\r\n{(value) && (\r\n  <div className=\"mt-4 p-3 border-t border-gray-200\">\r\n    <h3 className=\"font-medium mb-2 text-gray-700\">Content Preview:</h3>\r\n    <div className=\"prose prose-sm max-w-none mb-4 p-2 bg-gray-50 rounded\">\r\n      <MathJax dynamic>\r\n        {(() => {\r\n          // Decode HTML entities\r\n          const decoded = value\r\n            .replace(/&lt;/g, '<')\r\n            .replace(/&gt;/g, '>')\r\n            .replace(/&amp;/g, '&')\r\n            // Remove empty paragraphs\r\n            .replace(/<p><\\/p>/g, '')\r\n            // Convert single newlines to breaks\r\n            .replace(/<p>/g, '')\r\n            .replace(/<\\/p>/g, '<br/>');\r\n          \r\n          return <div dangerouslySetInnerHTML={{ __html: decoded }} />;\r\n        })()}\r\n      </MathJax>\r\n    </div>\r\n  </div>\r\n)}\r\n      </div>\r\n    </MathJaxContext>\r\n  );\r\n}\r\n\r\nfunction ToolbarButton({ editor, command, type, label, tooltip, onClick }) {\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (onClick) {\r\n      onClick();\r\n    } else if (command === \"setTextAlign\") {\r\n      editor.chain().focus()[command](type.textAlign).run();\r\n    } else if (command) {\r\n      editor.chain().focus()[command]().run();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <button\r\n      onClick={handleClick}\r\n      className={`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${\r\n        editor?.isActive(type) \r\n          ? \"bg-[#35095E] text-[#fff] hover:bg-blue-200\" \r\n          : \"bg-gray-100 hover:bg-[#35095E] hover:text-[#fff] text-[#35095E]\"\r\n      }`}\r\n      title={tooltip}\r\n    >\r\n      {label}\r\n    </button>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 741, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 747, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Mitos/admin/src/contexts/FormulaFormatter.js"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\n\r\n\r\n\r\nconst FormulaFormatter = ({ text, className = \"\" }) => {\r\n  return (\r\n    <div\r\n      className={`preview ${className}`}\r\n      dangerouslySetInnerHTML={{ __html: (text) }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default FormulaFormatter;"],"names":[],"mappings":";;;;AACA;AADA;;;AAKA,MAAM,mBAAmB,CAAC,EAAE,IAAI,EAAE,YAAY,EAAE,EAAE;IAChD,qBACE,6LAAC;QACC,WAAW,CAAC,QAAQ,EAAE,WAAW;QACjC,yBAAyB;YAAE,QAAS;QAAM;;;;;;AAGhD;KAPM;uCASS"}},
    {"offset": {"line": 774, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 780, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Mitos/admin/src/app/admin/question/page.jsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport dynamic from \"next/dynamic\";\r\nimport { FaPlus } from \"react-icons/fa6\";\r\nimport { API_BASE_URL } from \"@/utils/config\";\r\nimport { MathJax, MathJaxContext } from \"better-react-mathjax\";\r\nimport useAuth from \"@/contexts/useAuth\";\r\nimport RichTextEditor from \"@/components/Tiptap\";\r\nimport FormulaFormatter from \"@/contexts/FormulaFormatter\";\r\n\r\n// Dynamically import react-select with SSR disabled\r\nconst Select = dynamic(() => import(\"react-select\"), { ssr: false });\r\n\r\nexport default function QuestionsPage() {\r\n  const [topics, setTopics] = useState([]);\r\n  const [subjects, setSubjects] = useState([]);\r\n  const [chapters, setChapters] = useState([]);\r\n  const [questionTypes, setQuestionTypes] = useState([]);\r\n  const [selectedTopic, setSelectedTopic] = useState(null);\r\n  const [selectedSubject, setSelectedSubject] = useState(null);\r\n  const [selectedChapter, setSelectedChapter] = useState(null);\r\n  const [selectedQuestionType, setSelectedQuestionType] = useState(null);\r\n  const [question, setQuestion] = useState(\"\");\r\n  const [optionA, setOptionA] = useState(\"\");\r\n  const [optionB, setOptionB] = useState(\"\");\r\n  const [optionC, setOptionC] = useState(\"\");\r\n  const [optionD, setOptionD] = useState(\"\");\r\n  const [correctOption, setCorrectOption] = useState(\"\");\r\n  const [hint, setHint] = useState(\"\");\r\n  const [image, setImage] = useState(null);\r\n  const [hintImage, setHintImage] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n  const router = useRouter();\r\n  const [token, setToken] = useState(null);\r\n  const [imageName, setImageName] = useState(\"Select question Image to Upload\");\r\n  const [hintImageName, setHintImageName] = useState(\"Select Hint Image to Upload\");\r\n  const [editorKey, setEditorKey] = useState(Date.now());\r\n\r\n  useAuth();\r\n\r\n  useEffect(() => {\r\n    if (typeof window !== \"undefined\") {\r\n      const storedToken = localStorage.getItem(\"token\");\r\n      setToken(storedToken);\r\n    }\r\n  }, []);\r\n\r\n  const handleImageChange = (e, setImageState, setFileName) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      setImageState(file);\r\n      setFileName(file.name);\r\n    }\r\n  };\r\n\r\n  // Fetch filters (topics, subjects, chapters, question types)\r\n  useEffect(() => {\r\n    const fetchFilters = async () => {\r\n      try {\r\n        if (!token) throw new Error(\"Token is missing\");\r\n\r\n        const [subjectRes, questionTypeRes] = await Promise.all([\r\n          axios.get(`${API_BASE_URL}/subjects`, {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          }),\r\n          axios.get(`${API_BASE_URL}/question-types`, {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          }),\r\n        ]);\r\n\r\n        setSubjects(\r\n          subjectRes.data.map((s) => ({\r\n            value: s.id, // Subject ID\r\n            label: `${s.name} (${s.portion.name})`, // Subject Name + Portion Name\r\n            portion: s.portion, // Keep the portion object for later use\r\n          }))\r\n        );\r\n        setQuestionTypes(questionTypeRes.data.map((qt) => ({ value: qt.id, label: qt.name })));\r\n      } catch (error) {\r\n        console.error(\"Error fetching filters:\", error);\r\n      }\r\n    };\r\n\r\n    fetchFilters();\r\n  }, [token]);\r\n\r\n  useEffect(() => {\r\n    const fetchChapters = async () => {\r\n      if (selectedSubject) {\r\n        try {\r\n          const response = await axios.get(`${API_BASE_URL}/chapters/chapter/${selectedSubject.value}`, {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          });\r\n          setChapters(response.data.map((c) => ({ value: c.id, label: c.name })));\r\n        } catch (error) {\r\n          console.error(\"Error fetching chapters:\", error);\r\n        }\r\n      } else {\r\n        setChapters([]);\r\n      }\r\n    };\r\n\r\n    fetchChapters();\r\n  }, [selectedSubject, token]);\r\n\r\n  useEffect(() => {\r\n    const fetchTopics = async () => {\r\n      if (selectedChapter) {\r\n        try {\r\n          const response = await axios.get(`${API_BASE_URL}/topics/topic/${selectedChapter.value}`, {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          });\r\n          setTopics(response.data.map((t) => ({ value: t.id, label: t.name })));\r\n        } catch (error) {\r\n          console.error(\"Error fetching topics:\", error);\r\n        }\r\n      } else {\r\n        setTopics([]);\r\n      }\r\n    };\r\n\r\n    fetchTopics();\r\n  }, [selectedChapter, token]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setMessage(\"\");\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"questionTypeId\", selectedQuestionType?.value);\r\n      formData.append(\"portionId\", selectedSubject?.portion?.id);\r\n      formData.append(\"subjectId\", selectedSubject?.value);\r\n      formData.append(\"chapterId\", selectedChapter?.value);\r\n      formData.append(\"topicId\", selectedTopic?.value);\r\n      formData.append(\"question\", question);\r\n      formData.append(\"optionA\", optionA);\r\n      formData.append(\"optionB\", optionB);\r\n      formData.append(\"optionC\", optionC);\r\n      formData.append(\"optionD\", optionD);\r\n      formData.append(\"correctOption\", correctOption);\r\n      formData.append(\"hint\", hint);\r\n      if (image) formData.append(\"image\", image);\r\n      if (hintImage) formData.append(\"hintImage\", hintImage);\r\n\r\n      const response = await axios.post(`${API_BASE_URL}/questions`, formData, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      });\r\n\r\n      if (response.status === 201) {\r\n        setMessage(\"Question added successfully!\");\r\n\r\n      // Hide the success message after 5 seconds\r\n      setTimeout(() => {\r\n        setMessage(\"\");\r\n      }, 5000);\r\n      \r\n        // Reset all state variables\r\n        setQuestion(\"\");\r\n        setOptionA(\"\");\r\n        setOptionB(\"\");\r\n        setOptionC(\"\");\r\n        setOptionD(\"\");\r\n        setCorrectOption(\"\");\r\n        setHint(\"\");\r\n        setImage(null);\r\n        setHintImage(null);\r\n        setImageName(\"Select question Image to Upload\");\r\n        setHintImageName(\"Select Hint Image to Upload\");\r\n\r\n        // Force reset editors\r\n        setEditorKey(Date.now());\r\n      } else {\r\n        setMessage(\"Error adding question.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error:\", error);\r\n      setMessage(\"Failed to add question.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const customStyles = {\r\n    control: (provided, state) => ({\r\n      ...provided,\r\n      borderRadius: \"10px\",\r\n      border: state.isFocused ? \"2px solid #6F13C4\" : \"1px solid #ccc\",\r\n      boxShadow: state.isFocused ? \"0 0 5px rgba(111, 19, 196, 0.5)\" : \"none\",\r\n      transition: \"0.3s\",\r\n      backgroundColor: \"#fff\",\r\n      fontWeight: \"bold\",\r\n      padding: \"10px\",\r\n      \"&:hover\": {\r\n        borderColor: \"#51216E\",\r\n      },\r\n    }),\r\n    placeholder: (provided) => ({\r\n      ...provided,\r\n      color: \"#6F13C4\",\r\n      fontSize: \"15px\",\r\n      fontWeight: \"bold\",\r\n    }),\r\n    singleValue: (provided) => ({\r\n      ...provided,\r\n      color: \"#35095E\",\r\n      fontWeight: \"bold\",\r\n      fontSize: \"16px\",\r\n    }),\r\n    menu: (provided) => ({\r\n      ...provided,\r\n      borderRadius: \"10px\",\r\n      backgroundColor: \"#fff\",\r\n      padding: \"5px\",\r\n      boxShadow: \"0px 5px 10px rgba(0, 0, 0, 0.1)\",\r\n    }),\r\n    option: (provided, state) => ({\r\n      ...provided,\r\n      backgroundColor: state.isFocused ? \"#6F13C4\" : \"#fff\",\r\n      color: state.isFocused ? \"#fff\" : \"#333\",\r\n      padding: \"12px\",\r\n      fontSize: \"15px\",\r\n      fontWeight: \"bold\",\r\n      cursor: \"pointer\",\r\n      transition: \"0.3s\",\r\n      \"&:active\": {\r\n        backgroundColor: \"#51216E\",\r\n      },\r\n    }),\r\n  };\r\n\r\n  return (\r\n    <MathJaxContext>\r\n      <div className=\"p-6 md:p-0 pt-12\">\r\n        <h1 className=\"font-bold mb-4\">Add a Question</h1>\r\n\r\n        {/* Question Form */}\r\n        <form onSubmit={handleSubmit} className=\"questionform\">\r\n          {/* Select Filters */}\r\n          <div className=\"questionadd\">\r\n            <Select\r\n              value={selectedSubject}\r\n              options={subjects}\r\n              onChange={setSelectedSubject}\r\n              placeholder=\"Select Subject\"\r\n              isClearable\r\n              styles={customStyles}\r\n            />\r\n            <Select\r\n              value={selectedChapter}\r\n              options={chapters}\r\n              onChange={setSelectedChapter}\r\n              placeholder=\"Select Chapter\"\r\n              styles={customStyles}\r\n              isClearable\r\n            />\r\n          </div>\r\n          <div className=\"questionadd\">\r\n            <Select\r\n              value={selectedTopic}\r\n              options={topics}\r\n              onChange={setSelectedTopic}\r\n              placeholder=\"Select Topic\"\r\n              styles={customStyles}\r\n              isClearable\r\n            />\r\n            <Select\r\n              value={selectedQuestionType}\r\n              options={questionTypes}\r\n              onChange={setSelectedQuestionType}\r\n              placeholder=\"Select Question Type\"\r\n              styles={customStyles}\r\n              isClearable\r\n            />\r\n          </div>\r\n\r\n          <div className=\"richeeditos\">\r\n            <span>Question:</span>\r\n            <RichTextEditor key={editorKey} value={question} onChange={setQuestion} />\r\n          </div>\r\n\r\n          <div className=\"my-5 richoptions\">\r\n            <span>OptionA:</span>\r\n            <RichTextEditor key={editorKey + 1} value={optionA} onChange={setOptionA} />\r\n          </div>\r\n          <div className=\"my-5 richoptions\">\r\n            <span>OptionB:</span>\r\n            <RichTextEditor key={editorKey + 2} value={optionB} onChange={setOptionB} />\r\n          </div>\r\n          <div className=\"my-5 richoptions\">\r\n            <span>OptionC:</span>\r\n            <RichTextEditor key={editorKey + 3} value={optionC} onChange={setOptionC} />\r\n          </div>\r\n          <div className=\"my-5 richoptions\">\r\n            <span>OptionD:</span>\r\n            <RichTextEditor key={editorKey + 4} value={optionD} onChange={setOptionD} />\r\n          </div>\r\n\r\n          <Select\r\n            value={correctOption ? { value: correctOption, label: `Option ${correctOption}` } : null}\r\n            options={[\r\n              { value: \"A\", label: \"Option A\" },\r\n              { value: \"B\", label: \"Option B\" },\r\n              { value: \"C\", label: \"Option C\" },\r\n              { value: \"D\", label: \"Option D\" },\r\n            ]}\r\n            onChange={(opt) => setCorrectOption(opt?.value)}\r\n            placeholder=\"Select Correct Answer\"\r\n            isClearable\r\n            styles={customStyles}\r\n          />\r\n\r\n          <div className=\"my-5 richeeditos\">\r\n            <span>Hint:</span>\r\n            <RichTextEditor key={editorKey + 5} value={hint} onChange={setHint} />\r\n          </div>\r\n\r\n          {/* Image Upload Inputs */}\r\n          <div className=\"grid md:flex md:flex-row gap-4 mb-6\">\r\n            {/* First File Upload */}\r\n            <div>\r\n              <label className=\"file_upload\" htmlFor=\"image\">\r\n                <FaPlus size={40} className=\"file_icon\" /> {imageName}\r\n              </label>\r\n              <input\r\n                type=\"file\"\r\n                name=\"image\"\r\n                id=\"image\"\r\n                hidden\r\n                accept=\"image/*\"\r\n                onChange={(e) => handleImageChange(e, setImage, setImageName)}\r\n              />\r\n            </div>\r\n\r\n            {/* Second File Upload */}\r\n            <div>\r\n              <label className=\"file_upload\" htmlFor=\"hintimage\">\r\n                <FaPlus size={40} className=\"file_icon\" /> {hintImageName}\r\n              </label>\r\n              <input\r\n                type=\"file\"\r\n                name=\"hintimage\"\r\n                id=\"hintimage\"\r\n                hidden\r\n                accept=\"image/*\"\r\n                onChange={(e) => handleImageChange(e, setHintImage, setHintImageName)}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <button type=\"submit\" className=\"btn\" disabled={loading}>\r\n            {loading ? \"Submitting...\" : \"Submit Question\"}\r\n          </button>\r\n\r\n          {message && <p className=\"mt-2 text-green-600\">{message}</p>}\r\n        </form>\r\n      </div>\r\n    </MathJaxContext>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1462, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}